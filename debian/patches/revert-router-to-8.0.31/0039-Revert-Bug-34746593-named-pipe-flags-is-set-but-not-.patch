From 11aec8ee3ca56d977f7c3973bbb43de5246cda76 Mon Sep 17 00:00:00 2001
From: Corey Bryant <corey.bryant@canonical.com>
Date: Fri, 27 Jan 2023 17:06:37 -0500
Subject: [PATCH 39/86] Revert "Bug#34746593 named-pipe flags is set, but not
 used"

This reverts commit ab7368ede177c51ba36d4112c791f172dbf4f801.
---
 .../harness/include/mysql/harness/net_ts/win32_named_pipe.h    | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/router/src/harness/include/mysql/harness/net_ts/win32_named_pipe.h b/router/src/harness/include/mysql/harness/net_ts/win32_named_pipe.h
index 32016bf4b55..1b68024d607 100644
--- a/router/src/harness/include/mysql/harness/net_ts/win32_named_pipe.h
+++ b/router/src/harness/include/mysql/harness/net_ts/win32_named_pipe.h
@@ -544,8 +544,7 @@ class basic_named_pipe_acceptor : public basic_named_pipe_impl<Protocol> {
     if (!is_open()) {
       auto handle = CreateNamedPipe(
           TEXT(ep_.path().c_str()), PIPE_ACCESS_DUPLEX,
-          protocol.type() | protocol.protocol() | PIPE_REJECT_REMOTE_CLIENTS |
-              flags,
+          protocol.type() | protocol.protocol() | PIPE_REJECT_REMOTE_CLIENTS,
           back_log_, 1024 * 16, 1024 * 16, NMPWAIT_USE_DEFAULT_WAIT, NULL);
 
       if (handle == impl::named_pipe::kInvalidHandle) {
-- 
2.37.2

