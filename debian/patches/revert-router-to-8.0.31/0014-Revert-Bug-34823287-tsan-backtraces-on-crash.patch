From 94b522d74b490cad6b296ca9599dd0de0b165b18 Mon Sep 17 00:00:00 2001
From: Corey Bryant <corey.bryant@canonical.com>
Date: Fri, 27 Jan 2023 17:03:23 -0500
Subject: [PATCH 14/86] Revert "Bug#34823287 tsan backtraces on crash"

This reverts commit 8f7456a5dbaffadf4926cce979665ea5eee6d5bd.
---
 router/src/harness/src/signal_handler.cc | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/router/src/harness/src/signal_handler.cc b/router/src/harness/src/signal_handler.cc
index 2df10f416bf..b9043773995 100644
--- a/router/src/harness/src/signal_handler.cc
+++ b/router/src/harness/src/signal_handler.cc
@@ -201,8 +201,8 @@ void SignalHandler::register_fatal_signal_handler(bool dump_core) {
     }
   }
 
-  // enable a crash handler on POSIX systems if not built with ASAN|TSAN
-#if !defined(HAVE_ASAN) && !defined(HAVE_TSAN)
+  // enable a crash handler on POSIX systems if not built with ASAN
+#if !defined(HAVE_ASAN)
   struct sigaction sa;
   (void)sigemptyset(&sa.sa_mask);
   sa.sa_flags = SA_RESETHAND | SA_NODEFER;
-- 
2.37.2

